services:
  agent:
    build: .
    stdin_open: true  # Keep stdin open for interactive shell
    tty: true         # Allocate a pseudo-TTY
    volumes:
      - .:/app  # Mount entire repo for live editing
    environment:
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - KAPA_MCP_SERVER_URL=${KAPA_MCP_SERVER_URL}
      - KAPA_API_KEY=${KAPA_API_KEY}
      - PRODUCT_NAME=${PRODUCT_NAME:-<Your Product>}
    env_file:
      - path: .env
        required: false

